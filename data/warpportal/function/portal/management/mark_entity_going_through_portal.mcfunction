execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=-23,dy=23,dz=0,sort=nearest] at @s if block ~ ~ ~ nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=-23,dy=23,dz=0,sort=nearest] at @s if block ~ ~ ~ nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=-23,dy=23,dz=0,sort=nearest] at @s if block ~ ~ ~1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=-23,dy=23,dz=0,sort=nearest] at @s if block ~ ~ ~-1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=23,dy=23,dz=0,sort=nearest] at @s if block ~ ~ ~1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=23,dy=23,dz=0,sort=nearest] at @s if block ~ ~ ~-1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=-23,dy=23,dz=0,sort=nearest] at @s if block ~ ~1 ~1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=-23,dy=23,dz=0,sort=nearest] at @s if block ~ ~1 ~-1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=23,dy=23,dz=0,sort=nearest] at @s if block ~ ~1 ~1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_x] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=23,dy=23,dz=0,sort=nearest] at @s if block ~ ~1 ~-1 nether_portal[axis=x] run tag @s add wp_entity_going_through_portal

execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=-23,sort=nearest] at @s if block ~ ~ ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=-23,sort=nearest] at @s if block ~ ~ ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=-23,sort=nearest] at @s if block ~1 ~ ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=-23,sort=nearest] at @s if block ~-1 ~ ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=23,sort=nearest] at @s if block ~1 ~ ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=23,sort=nearest] at @s if block ~-1 ~ ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=-23,sort=nearest] at @s if block ~1 ~1 ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=-23,sort=nearest] at @s if block ~-1 ~1 ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=23,sort=nearest] at @s if block ~1 ~1 ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal
execute if entity @s[tag=wp_axis_z] positioned ~-0.5 ~ ~-0.5 as @e[tag=!wp_entity,tag=!wp_entity_going_through_portal,dx=0,dy=23,dz=23,sort=nearest] at @s if block ~-1 ~1 ~ nether_portal[axis=z] run tag @s add wp_entity_going_through_portal